ChÃ o báº¡n,

MÃ¬nh Ä‘Ã£ Ä‘á»c ráº¥t ká»¹ Ä‘oáº¡n code vÃ  yÃªu cáº§u cá»§a báº¡n. Code gá»‘c cÃ³ cáº¥u trÃºc ráº¥t tá»‘t, logic rÃµ rÃ ng vÃ  sá»­ dá»¥ng cÃ¡c ká»¹ thuáº­t váº½ nÃ¢ng cao cá»§a Pillow (gradient, bo gÃ³c, Ä‘á»• bÃ³ng), ráº¥t phÃ¹ há»£p Ä‘á»ƒ táº¡o má»™t infographic chuyÃªn nghiá»‡p.

Dá»±a trÃªn ná»n táº£ng Ä‘Ã³, mÃ¬nh Ä‘Ã£ cáº­p nháº­t láº¡i toÃ n bá»™ ná»™i dung, bá»‘ cá»¥c, mÃ u sáº¯c vÃ  cÃ¡c prompt táº¡o áº£nh AI Ä‘á»ƒ hoÃ n toÃ n phÃ¹ há»£p vá»›i Ä‘á» bÃ i má»›i: **Infographic vá» Luáº­t Báº£o vá»‡ dá»¯ liá»‡u cÃ¡ nhÃ¢n 2025**.

DÆ°á»›i Ä‘Ã¢y lÃ  phiÃªn báº£n code Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t hoÃ n chá»‰nh.

### **Nhá»¯ng thay Ä‘á»•i chÃ­nh:**

1.  **Chá»§ Ä‘á» & Ná»™i dung:** Thay tháº¿ toÃ n bá»™ ná»™i dung vá» Quá»‘c khÃ¡nh 2/9 báº±ng ná»™i dung chi tiáº¿t vá» Luáº­t Báº£o vá»‡ dá»¯ liá»‡u cÃ¡ nhÃ¢n báº¡n Ä‘Ã£ cung cáº¥p.
2.  **Prompt Táº¡o áº£nh AI:** CÃ¡c prompt Ä‘Ã£ Ä‘Æ°á»£c viáº¿t láº¡i hoÃ n toÃ n báº±ng tiáº¿ng Viá»‡t, táº­p trung vÃ o cÃ¡c khÃ¡i niá»‡m phÃ¡p lÃ½ má»™t cÃ¡ch trá»±c quan, dá»… hiá»ƒu (vÃ­ dá»¥: icon á»• khÃ³a, icon tráº» em Ä‘Æ°á»£c báº£o vá»‡, icon khiÃªn cháº¯n...).
3.  **Bá»‘ cá»¥c (Layout):**
    *   Thiáº¿t káº¿ láº¡i hoÃ n toÃ n bá»‘ cá»¥c Ä‘á»ƒ phÃ¹ há»£p vá»›i 4 má»¥c ná»™i dung cá»§a luáº­t.
    *   **Pháº§n 1 (KhÃ¡i niá»‡m):** DÃ¹ng cÃ¡c tháº» thÃ´ng tin (card) trá»±c quan vá»›i icon Ä‘i kÃ¨m.
    *   **Pháº§n 2 (Quy Ä‘á»‹nh ná»•i báº­t):** Sá»­ dá»¥ng cÃ¡c khá»‘i mÃ u sáº¯c máº¡nh máº½, tiÃªu Ä‘á» lá»›n Ä‘á»ƒ gÃ¢y áº¥n tÆ°á»£ng thá»‹ giÃ¡c.
    *   **Pháº§n 3 (Äiá»ƒm má»›i):** Bá»‘ cá»¥c gá»n gÃ ng, nháº¥n máº¡nh báº±ng icon bÃ³ng Ä‘Ã¨n.
    *   **Pháº§n 4 (Quyá»n & NghÄ©a vá»¥):** Chia 2 cá»™t rÃµ rÃ ng nhÆ° yÃªu cáº§u cá»§a báº¡n, sá»­ dá»¥ng icon tÃ­ch xanh vÃ  khiÃªn.
4.  **MÃ u sáº¯c:** Chuyá»ƒn tá»« tÃ´ng mÃ u Ä‘á»-vÃ ng (chá»§ Ä‘á» quá»‘c gia) sang tÃ´ng mÃ u **xanh dÆ°Æ¡ng - xanh lÃ¡ - xÃ¡m** (chá»§ Ä‘á» cÃ´ng nghá»‡, phÃ¡p luáº­t, sá»± tin cáº­y) Ä‘á»ƒ táº¡o cáº£m giÃ¡c chuyÃªn nghiá»‡p, trang nhÃ£ vÃ  dá»… chá»‹u.
5.  **TÃªn hÃ m vÃ  biáº¿n:** ÄÃ£ Ä‘Æ°á»£c Ä‘á»•i láº¡i cho phÃ¹ há»£p vá»›i chá»§ Ä‘á» má»›i Ä‘á»ƒ code dá»… Ä‘á»c vÃ  dá»… báº£o trÃ¬ hÆ¡n (vÃ­ dá»¥: `create_data_protection_infographic`).

Má»i báº¡n tham kháº£o vÃ  sá»­ dá»¥ng Ä‘oáº¡n code Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t dÆ°á»›i Ä‘Ã¢y.

---

### **CODE ÄÃƒ Cáº¬P NHáº¬T**

```python
from PIL import Image, ImageDraw, ImageFont, ImageFilter, ImageEnhance
import json
import base64
import requests
import os
from io import BytesIO
import math
from openai import OpenAI

# --- Cáº¤U HÃŒNH API (Giá»¯ nguyÃªn) ---
# Vui lÃ²ng thay tháº¿ báº±ng API Key cá»§a báº¡n náº¿u cáº§n
API_KEY = "sk-h4_042RMcJD2BNT21ZtkZA" 
CLIENT = OpenAI(
            api_key=API_KEY,
            base_url="https://api.thucchien.ai"
        )

# --- QUY Äá»ŠNH Äá»ŠNH Dáº NG (ÄÃ£ cáº­p nháº­t theo yÃªu cáº§u) ---
WIDTH = 7874  # 2m @ 100dpi
HEIGHT = 3937 # 1m @ 100dpi
DPI = 100

# --- CÃC HÃ€M TIá»†N ÃCH (Giá»¯ nguyÃªn cáº¥u trÃºc) ---

def generate_image_with_ai_vietnamese(prompt_vietnamese, output_filename):
    """HÃ m táº¡o áº£nh báº±ng AI vá»›i prompt tiáº¿ng Viá»‡t."""
    print(f"   â³ Äang táº¡o áº£nh cho: {output_filename.split('/')[-1]}...")
    try:
        response = CLIENT.images.generate(
            model="imagen-4",
            prompt=prompt_vietnamese,
            n=1,
            size="1024x1024"  # Sá»­ dá»¥ng size vuÃ´ng cho icon vÃ  áº£nh minh há»a
        )
        
        if response.data and len(response.data) > 0:
            image_data = response.data[0]
            img = None
            if hasattr(image_data, 'b64_json') and image_data.b64_json:
                img = Image.open(BytesIO(base64.b64decode(image_data.b64_json)))
            elif hasattr(image_data, 'url') and image_data.url:
                if image_data.url.startswith('data:image'):
                    b64_data = image_data.url.split(',')[1]
                    img = Image.open(BytesIO(base64.b64decode(b64_data)))
                else:
                    img_response = requests.get(image_data.url)
                    img = Image.open(BytesIO(img_response.content))
            
            if img:
                img.save(output_filename)
                print(f"   âœ… ÄÃ£ lÆ°u áº£nh: {output_filename}")
                return img
    except Exception as e:
        print(f"   âŒ Lá»—i khi táº¡o áº£nh: {e}")
        return None
    return None

def draw_shadow_box(draw, xy, radius, fill_color, shadow_offset=15, shadow_color='#00000030'):
    """Váº½ má»™t box cÃ³ Ä‘á»• bÃ³ng."""
    x1, y1, x2, y2 = xy
    shadow_xy = (x1 + shadow_offset, y1 + shadow_offset, x2 + shadow_offset, y2 + shadow_offset)
    draw_rounded_rectangle(draw, shadow_xy, radius, shadow_color)
    draw_rounded_rectangle(draw, xy, radius, fill_color)

def draw_rounded_rectangle(draw, xy, radius, fill):
    """Váº½ hÃ¬nh chá»¯ nháº­t bo gÃ³c."""
    x1, y1, x2, y2 = xy
    if radius > (x2 - x1) / 2: radius = (x2 - x1) / 2
    if radius > (y2 - y1) / 2: radius = (y2 - y1) / 2
    
    draw.rectangle([x1 + radius, y1, x2 - radius, y2], fill=fill)
    draw.rectangle([x1, y1 + radius, x2, y2 - radius], fill=fill)
    draw.pieslice([x1, y1, x1 + radius * 2, y1 + radius * 2], 180, 270, fill=fill)
    draw.pieslice([x2 - radius * 2, y1, x2, y1 + radius * 2], 270, 360, fill=fill)
    draw.pieslice([x1, y2 - radius * 2, x1 + radius * 2, y2], 90, 180, fill=fill)
    draw.pieslice([x2 - radius * 2, y2 - radius * 2, x2, y2], 0, 90, fill=fill)

def wrap_text(text, font, max_width, draw):
    """Tá»± Ä‘á»™ng ngáº¯t dÃ²ng cho vÄƒn báº£n."""
    lines = []
    if not text: return lines
    words = text.split()
    current_line = words[0] if words else ''
    
    for word in words[1:]:
        test_line = current_line + ' ' + word
        bbox = draw.textbbox((0, 0), test_line, font=font)
        if bbox[2] - bbox[0] <= max_width:
            current_line = test_line
        else:
            lines.append(current_line)
            current_line = word
    lines.append(current_line)
    return lines

# --- HÃ€M Táº O INFOGRAPHIC CHÃNH ---

def create_data_protection_infographic():
    print("=" * 100)
    print("ðŸŒŸ Báº®T Äáº¦U Táº O INFOGRAPHIC: LUáº¬T Báº¢O Vá»† Dá»® LIá»†U CÃ NHÃ‚N 2025")
    print(f"ðŸ“ KÃ­ch thÆ°á»›c: {WIDTH}x{HEIGHT} pixels | DPI: {DPI}")
    print("=" * 100)
    
    # 1. Khá»Ÿi táº¡o áº£nh vÃ  cÃ¡c font chá»¯
    img = Image.new('RGB', (WIDTH, HEIGHT), color='#F4F7F9') # MÃ u ná»n xÃ¡m nháº¡t, trang nhÃ£
    draw = ImageDraw.Draw(img)
    
    try:
        # ÄÆ°á»ng dáº«n font cho macOS. Náº¿u dÃ¹ng Windows/Linux, báº¡n cáº§n thay Ä‘á»•i.
        # VÃ­ dá»¥ Windows: "C:/Windows/Fonts/arialbd.ttf"
        font_path_bold = "/System/Library/Fonts/Supplemental/Arial Bold.ttf"
        font_path_regular = "/System/Library/Fonts/Supplemental/Arial.ttf"
        
        title_font = ImageFont.truetype(font_path_bold, 220)
        subtitle_font = ImageFont.truetype(font_path_regular, 110)
        header_font = ImageFont.truetype(font_path_bold, 90)
        body_font = ImageFont.truetype(font_path_regular, 70)
        small_font = ImageFont.truetype(font_path_regular, 60)
    except IOError:
        print("âš ï¸ Font Arial khÃ´ng tÃ¬m tháº¥y. Sá»­ dá»¥ng font máº·c Ä‘á»‹nh.")
        title_font = ImageFont.load_default()
        subtitle_font, header_font, body_font, small_font = [title_font] * 4

    # 2. Táº¡o hÃ¬nh áº£nh minh há»a báº±ng AI
    print("\nðŸ“¸ BÆ°á»›c 1: Táº¡o cÃ¡c hÃ¬nh áº£nh vÃ  icon minh há»a báº±ng AI...")
    
    # ThÆ° má»¥c lÆ°u áº£nh
    image_dir = "/Users/macbook/Library/CloudStorage/OneDrive-Personal/AI_ThucChien/luat_bvdl"
    if not os.path.exists(image_dir):
        os.makedirs(image_dir)

    images = {}
    prompts = {
        "icon_data_concept": "Icon vector tá»‘i giáº£n vá» dá»¯ liá»‡u cÃ¡ nhÃ¢n, hÃ¬nh má»™t ngÆ°á»i Ä‘Æ°á»£c bao quanh bá»Ÿi cÃ¡c cháº¥m thÃ´ng tin ká»¹ thuáº­t sá»‘, phong cÃ¡ch pháº³ng, mÃ u xanh dÆ°Æ¡ng vÃ  tráº¯ng, ná»n tráº¯ng.",
        "icon_data_types": "Icon vector chia Ä‘Ã´i, bÃªn trÃ¡i lÃ  tháº» ID Ä‘Æ¡n giáº£n, bÃªn pháº£i lÃ  á»• khÃ³a trÃªn dáº¥u vÃ¢n tay, biá»ƒu thá»‹ dá»¯ liá»‡u cÆ¡ báº£n vÃ  nháº¡y cáº£m, phong cÃ¡ch pháº³ng, mÃ u xanh lÃ¡ vÃ  xÃ¡m, ná»n tráº¯ng.",
        "icon_data_subject": "Icon vector Ä‘Æ¡n giáº£n, má»™t ngÆ°á»i Ä‘ang má»‰m cÆ°á»i vÃ  chá»‰ tay vÃ o chÃ­nh mÃ¬nh, thÃ¢n thiá»‡n, biá»ƒu thá»‹ 'chÃ­nh lÃ  báº¡n', phong cÃ¡ch pháº³ng, mÃ u xanh dÆ°Æ¡ng, ná»n tráº¯ng.",
        "icon_data_processing": "Icon vector cÃ¡c mÅ©i tÃªn xoay quanh má»™t biá»ƒu tÆ°á»£ng Ä‘Ã¡m mÃ¢y dá»¯ liá»‡u, thá»ƒ hiá»‡n thu tháº­p, lÆ°u trá»¯, sá»­ dá»¥ng, xÃ³a bá», phong cÃ¡ch pháº³ng, mÃ u cam, ná»n tráº¯ng.",
        "img_consent": "HÃ¬nh áº£nh má»™t bÃ n tay Ä‘ang nháº¥n vÃ o nÃºt 'Äá»“ng Ã½' (Agree) trÃªn mÃ n hÃ¬nh cáº£m á»©ng, nÃºt cÃ³ mÃ u xanh lÃ¡ cÃ¢y ná»•i báº­t, phÃ´ng ná»n cÃ´ng nghá»‡ má», Ã¡nh sÃ¡ng rÃµ rÃ ng, chuyÃªn nghiá»‡p.",
        "img_illegal_sale": "HÃ¬nh áº£nh má»™t chiáº¿c bÃºa tháº©m phÃ¡n Ä‘áº·t trÃªn má»™t loáº¡t tháº» tÃ­n dá»¥ng vÃ  CMND bá»‹ xÃ­ch láº¡i, mang tÃ­nh biá»ƒu tÆ°á»£ng chá»‘ng láº¡i viá»‡c mua bÃ¡n dá»¯ liá»‡u trÃ¡i phÃ©p, tÃ´ng mÃ u nghiÃªm tÃºc, Ã¡nh sÃ¡ng ká»‹ch tÃ­nh.",
        "img_child_protection": "HÃ¬nh áº£nh má»™t chiáº¿c khiÃªn báº£o vá»‡ trong suá»‘t che cháº¯n cho má»™t Ä‘á»©a tráº» Ä‘ang vui váº» sá»­ dá»¥ng mÃ¡y tÃ­nh báº£ng, biá»ƒu tÆ°á»£ng cho sá»± an toÃ n trÃªn khÃ´ng gian máº¡ng, mÃ u sáº¯c tÆ°Æ¡i sÃ¡ng, áº¥m Ã¡p.",
    }

    for key, prompt in prompts.items():
        img_file = os.path.join(image_dir, f"{key}.png")
        if os.path.exists(img_file):
            print(f"   â™»ï¸  Sá»­ dá»¥ng áº£nh cÃ³ sáºµn: {key}.png")
            images[key] = Image.open(img_file)
        else:
            generated_img = generate_image_with_ai_vietnamese(prompt, img_file)
            if generated_img:
                images[key] = generated_img
    
    print("\nðŸŽ¨ BÆ°á»›c 2: Thiáº¿t káº¿ bá»‘ cá»¥c vÃ  váº½ ná»™i dung...")

    # --- A. PHáº¦N TIÃŠU Äá»€ ---
    header_height = 550
    draw.rectangle([(0, 0), (WIDTH, header_height)], fill='#005A9C') # MÃ u xanh dÆ°Æ¡ng Ä‘áº­m chuyÃªn nghiá»‡p
    
    title_text = "Dá»® LIá»†U Cá»¦A Báº N - QUYá»€N Cá»¦A Báº N"
    bbox = draw.textbbox((0, 0), title_text, font=title_font)
    draw.text(((WIDTH - (bbox[2]-bbox[0])) / 2, 100), title_text, fill='#FFFFFF', font=title_font)
    
    subtitle_text = "TÃ³m táº¯t Luáº­t Báº£o vá»‡ dá»¯ liá»‡u cÃ¡ nhÃ¢n 2025 (Luáº­t sá»‘: 91/2025/QH15) dÃ nh cho má»i cÃ´ng dÃ¢n"
    bbox = draw.textbbox((0, 0), subtitle_text, font=subtitle_font)
    draw.text(((WIDTH - (bbox[2]-bbox[0])) / 2, 350), subtitle_text, fill='#E0E0E0', font=subtitle_font)
    
    y_pos = header_height + 80
    margin = 150

    # --- B. Má»¤C 1: KHÃI NIá»†M Cá»T LÃ•I ---
    section_title = "1. KHÃI NIá»†M Cá»T LÃ•I AI CÅ¨NG Cáº¦N BIáº¾T"
    bbox = draw.textbbox((0, 0), section_title, font=header_font)
    draw.text((margin, y_pos), section_title, fill='#333333', font=header_font)
    y_pos += 120

    concepts = [
        {"key": "icon_data_concept", "title": "Dá»¯ liá»‡u cÃ¡ nhÃ¢n lÃ  gÃ¬?", "desc": "LÃ  má»i thÃ´ng tin giÃºp nháº­n ra báº¡n lÃ  ai (tÃªn, SÄT, email, hÃ¬nh áº£nh...)"},
        {"key": "icon_data_types", "title": "PhÃ¢n loáº¡i dá»¯ liá»‡u", "desc": "Gá»“m Dá»¯ liá»‡u CÆ  Báº¢N (tÃªn, Ä‘á»‹a chá»‰) vÃ  Dá»¯ liá»‡u NHáº Y Cáº¢M (sá»©c khá»e, tÃ i chÃ­nh)."},
        {"key": "icon_data_subject", "title": "Chá»§ thá»ƒ dá»¯ liá»‡u lÃ  ai?", "desc": "ChÃ­nh lÃ  Báº N â€“ ngÆ°á»i sá»Ÿ há»¯u cÃ¡c dá»¯ liá»‡u cÃ¡ nhÃ¢n."},
        {"key": "icon_data_processing", "title": "Xá»­ lÃ½ dá»¯ liá»‡u lÃ  gÃ¬?", "desc": "Má»i hÃ nh Ä‘á»™ng: thu tháº­p, lÆ°u trá»¯, sá»­ dá»¥ng, chia sáº», hoáº·c xÃ³a bá» dá»¯ liá»‡u."},
    ]
    
    card_width = (WIDTH - 2 * margin - 3 * 80) / 4
    card_height = 500
    for i, concept in enumerate(concepts):
        x = margin + i * (card_width + 80)
        draw_shadow_box(draw, (x, y_pos, x + card_width, y_pos + card_height), 30, '#FFFFFF')
        
        if concept["key"] in images:
            icon = images[concept["key"]].resize((150, 150), Image.Resampling.LANCZOS)
            img.paste(icon, (int(x + (card_width - 150) / 2), int(y_pos + 40)), icon)

        title_lines = wrap_text(concept["title"], header_font, card_width - 80, draw)
        text_y = y_pos + 220
        for line in title_lines:
            bbox = draw.textbbox((0, 0), line, font=header_font)
            draw.text((x + (card_width - (bbox[2]-bbox[0])) / 2, text_y), line, fill='#005A9C', font=header_font)
            text_y += 100

        desc_lines = wrap_text(concept["desc"], body_font, card_width - 80, draw)
        for line in desc_lines:
            bbox = draw.textbbox((0, 0), line, font=body_font)
            draw.text((x + (card_width - (bbox[2]-bbox[0])) / 2, text_y + 20), line, fill='#555555', font=body_font)
            text_y += 80

    y_pos += card_height + 100

    # --- C. Má»¤C 2 & 3: QUY Äá»ŠNH Ná»”I Báº¬T & ÄIá»‚M Má»šI ---
    # Bá»‘ cá»¥c 2 cá»™t
    col_width = (WIDTH - 2 * margin - 100) / 2
    
    # Cá»™t TrÃ¡i: Quy Ä‘á»‹nh ná»•i báº­t
    x_col1 = margin
    y_col1 = y_pos
    
    section_title_2 = "2. QUY Äá»ŠNH Ná»”I Báº¬T Cáº¦N NHá»š"
    bbox = draw.textbbox((0, 0), section_title_2, font=header_font)
    draw.text((x_col1, y_col1), section_title_2, fill='#333333', font=header_font)
    y_col1 += 120

    regulations = [
        {"title": "IM Láº¶NG KHÃ”NG PHáº¢I LÃ€ Äá»’NG Ã!", "desc": "Pháº£i cÃ³ sá»± Ä‘á»“ng Ã½ Tá»° NGUYá»†N, RÃ• RÃ€NG cá»§a báº¡n trÆ°á»›c khi xá»­ lÃ½ dá»¯ liá»‡u.", "color": "#FFF4E5", "border": "#FF9800", "img_key": "img_consent"},
        {"title": "Cáº¤M MUA, BÃN Dá»® LIá»†U TRÃI PHÃ‰P", "desc": "HÃ nh vi nÃ y sáº½ bá»‹ xá»­ pháº¡t ráº¥t náº·ng, cÃ³ thá»ƒ lÃªn Ä‘áº¿n 3 tá»· Ä‘á»“ng.", "color": "#FFEBEE", "border": "#D32F2F", "img_key": "img_illegal_sale"},
        {"title": "Báº¢O Vá»† TRáºº EM LÃ€ Æ¯U TIÃŠN", "desc": "Má»i xá»­ lÃ½ dá»¯ liá»‡u cá»§a tráº» em pháº£i cÃ³ sá»± Ä‘á»“ng Ã½ cá»§a cha máº¹/ngÆ°á»i giÃ¡m há»™.", "color": "#E8F5E9", "border": "#388E3C", "img_key": "img_child_protection"},
    ]
    
    for reg in regulations:
        reg_height = 400
        draw_shadow_box(draw, (x_col1, y_col1, x_col1 + col_width, y_col1 + reg_height), 30, reg["color"])
        draw_rounded_rectangle(draw, (x_col1, y_col1, x_col1 + col_width, y_col1 + reg_height), 30, reg["color"])
        # draw.rectangle((x_col1, y_col1, x_col1 + 20, y_col1 + reg_height), fill=reg["border"])
        
        img_size = 250
        text_x_start = x_col1 + 40
        text_width = col_width - 80
        
        if reg["img_key"] in images:
            img_size = 280
            text_width = col_width - img_size - 100
            text_x_start = x_col1 + img_size + 80
            
            reg_img = images[reg["img_key"]].resize((img_size, img_size), Image.Resampling.LANCZOS)
            mask = Image.new('L', reg_img.size, 0)
            mask_draw = ImageDraw.Draw(mask)
            mask_draw.rounded_rectangle((0, 0, reg_img.width, reg_img.height), radius=20, fill=255)
            img.paste(reg_img, (int(x_col1 + 40), int(y_col1 + (reg_height - img_size) / 2)), mask)

        title_lines = wrap_text(reg["title"], header_font, text_width, draw)
        text_y = y_col1 + 50
        for line in title_lines:
            draw.text((text_x_start, text_y), line, fill=reg["border"], font=header_font)
            text_y += 100

        desc_lines = wrap_text(reg["desc"], body_font, text_width, draw)
        for line in desc_lines:
            draw.text((text_x_start, text_y + 20), line, fill='#333333', font=body_font)
            text_y += 80

        y_col1 += reg_height + 60

    # Cá»™t Pháº£i: Äiá»ƒm Má»›i & Quyá»n/NghÄ©a vá»¥
    x_col2 = margin + col_width + 100
    y_col2 = y_pos

    section_title_3 = "3. ÄIá»‚M Má»šI & LÆ¯U Ã QUAN TRá»ŒNG"
    bbox = draw.textbbox((0, 0), section_title_3, font=header_font)
    draw.text((x_col2, y_col2), section_title_3, fill='#333333', font=header_font)
    y_col2 += 120
    
    new_points = [
        "ðŸ’¡ ThÃ nh láº­p CÆ¡ quan chuyÃªn trÃ¡ch báº£o vá»‡ dá»¯ liá»‡u cÃ¡ nhÃ¢n.",
        "ðŸ’¡ Doanh nghiá»‡p pháº£i thÃ´ng bÃ¡o trong 72 giá» náº¿u dá»¯ liá»‡u bá»‹ rÃ² rá»‰.",
        "ðŸ’¡ Doanh nghiá»‡p lá»›n pháº£i Ä‘Ã¡nh giÃ¡ tÃ¡c Ä‘á»™ng trÆ°á»›c khi xá»­ lÃ½ dá»¯ liá»‡u.",
        "ðŸ’¡ Miá»…n trá»« má»™t sá»‘ nghÄ©a vá»¥ cho doanh nghiá»‡p nhá» vÃ  siÃªu nhá» trong 5 nÄƒm Ä‘áº§u.",
    ]
    
    draw_shadow_box(draw, (x_col2, y_col2, x_col2 + col_width, y_col2 + 450), 30, '#E3F2FD')
    point_y = y_col2 + 50
    for point in new_points:
        lines = wrap_text(point, body_font, col_width - 120, draw)
        for line in lines:
            draw.text((x_col2 + 60, point_y), line, fill='#1976D2', font=body_font)
            point_y += 80
        point_y += 20
    
    y_col2 += 450 + 80
    
    # --- D. Má»¤C 4: QUYá»€N & NGHÄ¨A Vá»¤ ---
    section_title_4 = "4. QUYá»€N & NGHÄ¨A Vá»¤ Cá»¦A Báº N"
    bbox = draw.textbbox((0, 0), section_title_4, font=header_font)
    draw.text((x_col2, y_col2), section_title_4, fill='#333333', font=header_font)
    y_col2 += 120
    
    sub_col_width = (col_width - 40) / 2
    
    # Quyá»n
    draw.text((x_col2, y_col2), "QUYá»€N Cá»¦A Báº N", fill='#2E7D32', font=header_font)
    rights = [
        "âœ“ ÄÆ°á»£c biáº¿t ai, vÃ¬ sao xá»­ lÃ½ dá»¯ liá»‡u cá»§a mÃ¬nh.",
        "âœ“ Äá»“ng Ã½ hoáº·c tá»« chá»‘i viá»‡c xá»­ lÃ½.",
        "âœ“ Truy cáº­p, chá»‰nh sá»­a dá»¯ liá»‡u.",
        "âœ“ RÃºt láº¡i sá»± Ä‘á»“ng Ã½ báº¥t cá»© lÃºc nÃ o.",
        "âœ“ YÃªu cáº§u xÃ³a dá»¯ liá»‡u.",
        "âœ“ Khiáº¿u náº¡i vÃ  Ä‘Ã²i bá»“i thÆ°á»ng.",
    ]
    rights_y = y_col2 + 120
    for right in rights:
        lines = wrap_text(right, body_font, sub_col_width - 20, draw)
        for line in lines:
            draw.text((x_col2, rights_y), line, fill='#333333', font=body_font)
            rights_y += 75

    # NghÄ©a vá»¥
    draw.text((x_col2 + sub_col_width + 40, y_col2), "TRÃCH NHIá»†M Cá»¦A Báº N", fill='#C62828', font=header_font)
    duties = [
        "ðŸ›¡ï¸ Tá»± báº£o vá»‡ dá»¯ liá»‡u cá»§a mÃ¬nh.",
        "ðŸ›¡ï¸ TÃ´n trá»ng dá»¯ liá»‡u ngÆ°á»i khÃ¡c.",
        "ðŸ›¡ï¸ Cung cáº¥p thÃ´ng tin chÃ­nh xÃ¡c.",
        "ðŸ›¡ï¸ TuÃ¢n thá»§ phÃ¡p luáº­t.",
    ]
    duties_y = y_col2 + 120
    for duty in duties:
        lines = wrap_text(duty, body_font, sub_col_width - 20, draw)
        for line in lines:
            draw.text((x_col2 + sub_col_width + 40, duties_y), line, fill='#333333', font=body_font)
            duties_y += 75

    # --- E. PHáº¦N CHÃ‚N TRANG (FOOTER) ---
    footer_y = HEIGHT - 250
    draw.rectangle([(0, footer_y), (WIDTH, HEIGHT)], fill='#34495E')
    
    footer_text_1 = "HÃƒY LÃ€ NGÆ¯á»œI CHá»¦ THÃ”NG THÃI CHO Dá»® LIá»†U Cá»¦A CHÃNH MÃŒNH!"
    bbox = draw.textbbox((0, 0), footer_text_1, font=header_font)
    draw.text(((WIDTH - (bbox[2]-bbox[0])) / 2, footer_y + 60), footer_text_1, fill='#FFFFFF', font=header_font)
    
    footer_text_2 = "Ná»™i dung Ä‘Æ°á»£c tÃ³m táº¯t tá»« Luáº­t sá»‘ 91/2025/QH15. Äá»ƒ biáº¿t chi tiáº¿t, vui lÃ²ng tham kháº£o vÄƒn báº£n luáº­t gá»‘c."
    bbox = draw.textbbox((0, 0), footer_text_2, font=small_font)
    draw.text(((WIDTH - (bbox[2]-bbox[0])) / 2, footer_y + 160), footer_text_2, fill='#BDC3C7', font=small_font)

    # 3. LÆ°u áº£nh
    print("\nðŸ’¾ BÆ°á»›c 3: LÆ°u file infographic...")
    
    output_filename_base = os.path.join(image_dir, "Infographic_LuatBaoVeDuLieuCaNhan_2025")
    
    output_png = f"{output_filename_base}.png"
    img.save(output_png, 'PNG', dpi=(DPI, DPI))
    print(f"âœ… ÄÃ£ lÆ°u PNG: {output_png}")
    
    output_jpg = f"{output_filename_base}.jpg"
    # Chuyá»ƒn sang RGB trÆ°á»›c khi lÆ°u JPEG Ä‘á»ƒ trÃ¡nh lá»—i
    img_rgb = img.convert('RGB')
    img_rgb.save(output_jpg, 'JPEG', dpi=(DPI, DPI), quality=95)
    print(f"âœ… ÄÃ£ lÆ°u JPG: {output_jpg}")
    
    print("\nðŸŽ‰ HOÃ€N THÃ€NH!")
    return output_png

if __name__ == "__main__":
    create_data_protection_infographic()
```